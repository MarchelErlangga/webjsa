<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../static/img/favicon.png" type="image/png" />
    <title>Admin Users</title>
    <!-- ======= Styles ====== -->
    <link rel="stylesheet" href="../static/sytle/admin.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <!-- =============== Navigation ================ -->
    <div class="container">
        <div class="navigation">
            <ul>
                <li class="active">
                    <a href="/admin">
                        <span class="icon">
                            <ion-icon name="home-outline"></ion-icon>
                        </span>
                        <span class="title">Dashboard</span>
                    </a>
                </li>

                <li>
                    <a href="/admin/user">
                        <span class="icon">
                            <ion-icon name="people-outline"></ion-icon>
                        </span>
                        <span class="title">Users</span>
                    </a>
                </li>

                <li>
                    <a href="/admin/membership">
                        <span class="icon">
                            <ion-icon name="cart-outline"></ion-icon>
                        </span>
                        <span class="title">Membership</span>
                    </a>
                </li>

                <li>
                    <a href="/admin/booking">
                        <span class="icon">
                            <ion-icon name="chatbubbles-outline"></ion-icon>
                        </span>
                        <span class="title">Booking</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="icon">
                            <ion-icon name="log-out-outline"></ion-icon>
                        </span>
                        <span class="title">Sign Out</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- ========================= Main ==================== -->
        <div class="main">
            <div class="topbar">
                <div class="toggle">
                    <ion-icon name="menu-outline"></ion-icon>
                </div>
                <p style="margin-left: 750px;">{{session['admin']}}
                <p>
                <div class="user">
                    <img src="../static/img/profile.png" alt="">
                </div>
            </div>

            <!-- ================ Order Details List ================= -->
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader" style="display: flex; justify-content: space-between; align-items: center;">
                        <h2>All Users</h2>
                        <ion-icon name="add-circle-outline" style="font-size: 24px; cursor: pointer;"></ion-icon>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <td>Username</td>
                                <td>Password</td>
                                <td>Email</td>
                                <td>No telphone</td>
                                <td>Aksi</td>
                            </tr>
                        </thead>

                        <tbody>
                            {% for user in users %}
                            <tr>
                                <td>{{user.username}}</td>
                                <td>{{user.password}}</td>
                                <td>{{user.email}}</td>
                                <td>{{user.no_telp}}</td>
                                <td>
                                    <button class="status biru tombol">Edit</button>
                                    <button class="status merah tombol">Hapus</button>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Tambah User -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Add New User</h2>
            <form id="addUserForm">
                <label for="name">Username:</label>
                <input type="text" id="name" name="name" required>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <label for="no_telp">No Telephone:</label>
                <input type="text" id="no_telp" name="no_telp" required>
                <button type="submit">Add User</button>
            </form>
        </div>
    </div>

    <!-- Modal Edit User -->
    <div id="editUser Modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit User</h2>
            <form id="editUser Form" action="/api/edit_user" method="POST">
                <label for="editName">Username:</label>
                <input type="text" id="editName" name="name" readonly>
                <label for="editPassword">Password:</label>
                <input type="password" id="editPassword" name="password" required> <!-- Add this line -->
                <label for="editEmail">Email:</label>
                <input type="email" id="editEmail" name="email" readonly>
                <label for="editNoTelp">No Telephone:</label>
                <input type="text" id="editNoTelp" name="no_telp" required> <!-- Add this line -->
                <button type="submit" id="submit">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Modal Delete User -->
    <div id="deleteUserModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Delete User</h2>
            <p>Apakah Anda yakin ingin menghapus user ini?</p>
            <div style="display: flex; gap: 10px; margin-top: 40px;">
                <button id="confirmDelete" class="status merah tombol">Yes, Delete</button>
                <button id="cancelDelete" class="status abu tombol">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal Sign Out -->
    <div id="signOutModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Sign Out</h2>
            <p>Apakah Anda yakin ingin keluar?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button id="confirmSignOut" class="status merah tombol">Sign Out</button>
                <button id="cancelSignOut" class="status abu tombol">Cancel</button>
            </div>
        </div>
    </div>


    <!-- =========== Scripts =========  -->
    <script src="../static/js/user_admin.js"></script>

    <!-- ====== ionicons ======= -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>

</html>